
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose/dtd">

<!--
NOM DU SCRIPT : COOKIES_03.html
REALISATION INFORMATIQUE : Christian VIGOUROUX
DATE DE CREATION : 15/10/2018
DATE DE DERNIERE MODIFICATION : 15/10/2018 
OBJET : COOKIES_03
-->

<!-- Début script HTML -->
<html>

    <!-- Début en-tête script HTML -->
    <head>

        <!-- Balise meta -->
        <meta HTTP-equiv="Content-Type"
        content="text/html"; charset="utf-8" />
        <!-- Titre du script HTML -->
        <title>COOKIES_03</title>

    </head>

    <!-- Début section body du script HTML -->
    <body>

        <!-- Titre du traitement -->
        <h1>Editions ENI - JavaScript - COOKIES_03</h1>


        <script>
            /* Définition de la fonction JavaScript de suppression d'un cookie */
            function suppressionCookie(nomCookie, valeurCookie, expirationCookie, cheminCookie, domaineCookie, securiteCookie)
            {
                document.cookie = nomCookie + ' = ' + escape(valeurCookie) + ' ' + ((expirationCookie == undefined) ? '' : ('; expires=' + expirationCookie.toGMTString())) + ((cheminCookie == undefined) ? '' : ('; path=' + cheminCookie)) + ((domaineCookie == undefined) ? '' : ('; domain=' + domaineCookie)) + ((securiteCookie == true) ? '; securiteCookie' : '');
            }
            // La fonction escape réalise un encodage des caractères spéciaux en les 
            // remplaçant par une séquence %remplacement où remplacement est un nombre 
            // sous forme hexadécimale

            /* Suppression d'un cookie par appel de la fonction suppressionCookie */
            var dateExpiration = new Date();
            dateExpiration.setTime(dateExpiration.getTime() - 1);
            // NB : - dateExpiration est un objet de type date (par défaut initialisé 
            //        à la date système) 
            //      - La date de fin de validité du cookie (il sera supprimé) est calculée 
            //        à partir de la date système (-1 -> le cookie sera supprimé tout de suite)
            suppressionCookie('monCookie', '', dateExpiration, '/');
            // Nom du cookie : monCookie
            // Valeur du cookie : Laissée à vide
            // Expiration du cookie : Tout de suite !!! (date d'expiration antérieure à la date système)
            // Accéssibilité : Accessible à tout le site

            /* Message de contrôle */
            document.write("Le cookie monCookie a normalement été supprimé du disque dur");

            


        </script>


        <!-- Affichage du code source -->
        <br /><br /><br />
        <center>
            <a href="JavaScript:window.location='view-source:'+window.location">Code source</a>
        </center>
    </body>
</html>